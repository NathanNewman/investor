{% extends 'base.html' %} {% block content %}
<div class="container w-75 text-center" style="background-color: white">
  <div class="row align-items-center">
    <div class="col-12 col-lg-8">
      <h1>Portfolio Assets</h1>
      <form action="/portfolios/{{ portfolio.id }}/edit" method="post">
        <table id="port-table">
          <tr>
            <b id="cash">Cash: {{ portfolio.cash }}</b>
            <input
              type="hidden"
              id="dollars"
              name="cash"
              value="{{ portfolio.cash }}"
            />
          </tr>
          <tbody>
            {% for stock in portfolio.stocks %}
            <tr>
              <td>
                <label for="{{ stock.symbol }}"
                  ><b>{{ stock.symbol }}</b></label
                >
              </td>
              <td>
                <input
                  type="number"
                  class="quantity"
                  id="{{ stock.symbol }}"
                  name="{{ stock.symbol }}"
                  value="{{ stock.quantity }}"
                  style="width: 100px"
                  min="0"
                />
              </td>
              <td>
                <b>Price:</b>
              </td>
              <td>
                <b>{{ stock.price }}</b>
                <input
                  type="hidden"
                  id="{{ stock.symbol }}-price"
                  name="{{ stock.symbol }}-price"
                  value="{{ stock.price }}"
                />
              </td>
              <td>
                <b>Total:</b>
              </td>
              <td>
                <b id="{{ stock.symbol }}-total">{{ stock.quantity * stock.price}}</b>
                <input
                  type="hidden"
                  id="{{ stock.symbol }}-hiddenTotal"
                  value="0"
                />
              </td>
            </tr>
            {% endfor %}
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td colspan="2">
                <button type="submit" class="btn btn-primary" style="width:150px">
                  <i
                    class="fa-solid fa-money-bill-trend-up"
                    style="font-size: 2.5rem; color: #73f59b"
                  ></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>
    <div class="col-12 col-lg-4">
      <h2>Search Stocks</h2>
      <p>Look up stocks using their symbol.</p>
      <form
        action="/portfolios/get-stock"
        name="stock-search"
        method="post"
        id="get-stock"
      >
        <input type="text" name="stock-search" />
        <input type="hidden" name="portfolio-id" value="{{ portfolio.id }}" />
        <button type="submit" class="btn btn-primary">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>
      <h3>Example stock symbols.</h3>
      <ul>
        <il>AMZN - Amazon</il>
        <il>AAPL - Apple</il>
        <il>MSFT - Microsoft</il>
        <il>GOOG - Google</il>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
